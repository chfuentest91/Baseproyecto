{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BIENVENIDO</title>
    <link rel="stylesheet" href="{% static 'CSS/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

    {% include "segments/header.html" %}

    <main class="container text-bg-light mt-5">
        <h1>MI PERFIL</h1>

        <form id="contactForm" method="post" action="{% url 'registrar_usuario' %}">
            {% csrf_token %}

            <!-- 1) Nombres -->
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombres</label>
                <input type="text" class="form-control" id="nombre" name="nombre" autocomplete="given-name"
                    value="{{ request.session.usuario_nombre }}" placeholder="Nombres">
            </div>

            <!-- 2) Apellidos -->
            <div class="mb-3">
                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" class="form-control" id="apellidos" name="apellidos" autocomplete="family-name"
                    value="{{ request.session.usuario_apellidos }}" placeholder="Apellidos">
            </div>

            <!-- 3) Correo -->
            <div class="mb-3">
                <label for="correo" class="form-label">Correo Electrónico</label>
                <input type="email" class="form-control" id="correo" name="correo"
                    value="{{ request.session.usuario_correo }}" placeholder="correo@ejemplo.com" disabled>
            </div>

            <!-- 4) Dirección -->
            <div class="mb-3">
                <label for="direccion" class="form-label">Dirección</label>
                <input type="text" class="form-control" id="direccion" name="direccion" autocomplete="street-address"
                    value="{{ request.session.usuario_direccion }}" placeholder="Dirección">

            </div>

            <!-- 5) Teléfono -->
            <div class="mb-3">
                <label for="telefono" class="form-label">Teléfono</label>
                <input type="tel" class="form-control" id="telefono" name="telefono" inputmode="tel" pattern="\d{8,15}"
                    value="{{ request.session.usuario_telefono }}" placeholder="Teléfono">
            </div>

            <!-- 6 Nueva contraseña -->
            <div class="mb-3">
                <label for="clave" class="form-label">Nueva Contraseña</label>
                <input type="password" class="form-control" id="clave" name="clave"
                    placeholder="Nueva contraseña" maxlength="8">
            </div>

            <!-- 7) Tipo de Usuario -->
            <div class="mb-3">
                <label for="rol" class="form-label">Rol *</label>
                <select class="form-select" id="rol" disabled>
                    <option value="1" {% if request.session.usuario_rol==1 %}selected{% endif %}>Superusuario</option>
                    <option value="2" {% if request.session.usuario_rol==2 %}selected{% endif %}>Administrador</option>
                    <option value="3" {% if request.session.usuario_rol==3 %}selected{% endif %}>Invitado</option>
                    <option value="4" {% if request.session.usuario_rol==4 %}selected{% endif %}>Profesor</option>
                    <option value="5" {% if request.session.usuario_rol==5 %}selected{% endif %}>Alumno</option>
                </select>
            </div>

            <!-- Botón de envío -->
            <button type="submit" class="btn btn-primary w-100">Guardar Cambios</button>
        </form>

        </div>
        </div>
        </div>
        </div>



        <footer class="footer">
            <div class="text-center p-4">© 2025 Copyright: BISAN CHILE</div>
        </footer>

        <script>

            window.REGISTER_URL = "{% url 'registrar_usuario' %}";  
        </script>


        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script>
            if (!window.jQuery) {
                document.write('<script src="{% static "vendor/jquery-3.6.0.min.js" %}"><\/script>');
            }
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script src="{% static 'js/registrar-scripts.js' %}"></script>
</body>

</html>